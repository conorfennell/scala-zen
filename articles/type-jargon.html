<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Type</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='Scala Zen'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../articles/type-jargon.html" class="active">
<span class="home-icon">⌂</span>Type
</a>
<div class="version-number">
0.1*
</div>
</div>
<div class="nav-toc">
<ul>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../articles/type-jargon.html" class="active">Type</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../articles/type-jargon.html" class="active">
<span class="home-icon">⌂</span>Type
</a>
<div class="version-number">
0.1*
</div>
</div>
<div class="nav-toc">
<ul>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h3><a href="#type" name="type" class="anchor"><span class="anchor-link"></span></a>Type</h3>
<p>Types can be variables, expressions and functions.<br/>Types define and enforce restricted boundries for data structures and components e.g. string, float, function of String to Int.</p>
<p>In scala the type system is checked on compile time. </p>
<pre class="prettyprint"><code class="language-Scala">type Number = Int

</code></pre>
<h3><a href="#invariance-nonvariant" name="invariance-nonvariant" class="anchor"><span class="anchor-link"></span></a>Invariance - nonvariant</h3>
<p>Invariance in a type system means the allowable type is held to the specified type and its subtypes. </p>
<p>Mutable collections in Scala are made invariant <code>[A]</code> to preserve type safety. Array, ArrayBuffer and ListBuffer are all defined with invariant type parameters.</p>
<pre class="prettyprint"><code class="language-Scala">class Array[T]
class ArrayBuffer[A]
class ListBuffer[A]
</code></pre>
<p>If they were not invariant they would break type safety and it would be possible to do something like the example below. </p>
<pre class="prettyprint"><code class="language-Scala">val ints: Array[Int] = Array[Int](1,2,3)
val anys: Array[Any] = ints
anys(0) = 2.54
</code></pre>
<h3><a href="#covariance" name="covariance" class="anchor"><span class="anchor-link"></span></a>Covariance</h3>
<p>Immutable collections in Scala are made covariant <code>[+A]</code> to make them more flexible, they could also be declared as invariant. </p>
<pre class="prettyprint"><code class="language-Scala">class List[+T]
class Vector[+A]
class Seq[+A]
</code></pre>
<pre class="prettyprint"><code class="language-Scala">sealed trait Animal {
    def speak: Unit
}
class Dog() extends Animal {
    def speak = println(&quot;Dog says woof&quot;)
}
class DogCat() extends Dog {
 override def speak = println(&quot;DogCat says meow&quot;)
}

val animals: List[Animal] = List[DogCat]( new DogCat())

def speakInvariant(array: Array[Dog]) {
  array.foreach(_.speak)
}

def speakCovariant(array: Seq[Dog]) {
  array.foreach(_.speak)
}

speakInvariant(Array(new Dog()))
speakCovariant(Seq[DogCat](new DogCat())) 

// compile error with invariant Array
speakInvariant(Array[DogCat](new DogCat())) 
</code></pre>
<h3><a href="#contravariance" name="contravariance" class="anchor"><span class="anchor-link"></span></a>Contravariance</h3>
<p>Contravariance is essentially the opposite of covariance, and is rarely used. It is used in Scala&rsquo;s Functional trait.</p>
<pre class="prettyprint"><code class="language-Scala">trait Function1[-T, +R]

</code></pre>
<h3><a href="#value-type" name="value-type" class="anchor"><span class="anchor-link"></span></a>Value Type</h3>
<p>A value type is any subclass of AnyVal such as Int, Double, or Unit. This term has meaning at the level of Scala source code. At run-time, instances of value types that correspond to Java primitives types may be implemented in terms of primitive type values or instances of wrapper types, such as java.lang.Integer. Over the lifetime of value type instance, the runtime may transform it back and forth betweeen primitive and wrapper types (i.e. to box and unbox it)</p>
<ul>
  <li>must have exactly one val parameter</li>
  <li>can define methods, but no val or var fields, nested traits, classes or objects; cannot be extended.</li>
</ul>
<p>A library of value types <a href="https://github.com/fthomas/refined">https://github.com/fthomas/refined</a></p>
<pre class="prettyprint"><code class="language-Scala">import scala.language.implicitConversions
class PositiveInt(val value: Int) extends AnyVal

object PositiveInt {
   def apply(value: Int): PositiveInt = {
     require(value &gt;= 0, &quot;It is a negative number&quot;)
     new PositiveInt(value)
   }
   implicit def intToPositiveInt(value: Int): PositiveInt = apply(value)
}

import PositiveInt.intToPositiveInt

val x: PositiveInt = -3
</code></pre>
<h3><a href="#type-parameter" name="type-parameter" class="anchor"><span class="anchor-link"></span></a>Type Parameter</h3>
<p>A type parameter to a generic class or generic function that must be filled in by a type.</p>
<pre class="prettyprint"><code class="language-Scala">// List[T] is a type parameter to a generic class
val list: List[String] = List(&quot;action&quot;)

// count[T] is a type parameter to a generic function
def count[T](list: List[Option[T]]) = list.size 

</code></pre>
<h3><a href="#type-signatures" name="type-signatures" class="anchor"><span class="anchor-link"></span></a>Type Signatures</h3>
<p>A method&rsquo;s type signature comprises its name; the number, order, and types of its parameters, if any; and its result type. The type signature of a class, trait, or singleton object comprises its name, the type signatures of all of its members and constructors, and its declared inheritance and mixin relations.</p>
<p>In Scala the <code>[]</code> are used to declare a generic type. </p>
<pre class="prettyprint"><code class="language-Scala">def countSome[T](list: List[Option[T]]): Int = list.filter(maybe =&gt; maybe.map(_ =&gt; true).getOrElse(false)).size

trait Random[T] {
  def getRandom : T
}
</code></pre>
<h3><a href="#self-type" name="self-type" class="anchor"><span class="anchor-link"></span></a>Self Type</h3>
<p>Self-types are a way to declare that a trait must be mixed into another trait, even though it doesnt directly extend it. </p>
<h4><a href="#purpose" name="purpose" class="anchor"><span class="anchor-link"></span></a>Purpose</h4>
<p>It makes the members of the dependency available without imports. </p>
<pre class="prettyprint"><code class="language-Scala">trait User {
  def username: String
}

trait Tweeter {
  blah: User =&gt; // reassign this
  def tweet(tweetText: String) = println(s&quot;$username: $tweetText&quot;)
}

class VerifiedTweeter(val username_ : String) extends Tweeter with User {
  def username = s&quot;real $username_&quot;
}

val martin = new VerifiedTweeter(&quot;MartinOdersky&quot;)
martin.tweet(&quot;I can now announce Scala is feature complete&quot;)
</code></pre>
<h3><a href="#target-typing" name="target-typing" class="anchor"><span class="anchor-link"></span></a>Target Typing</h3>
<p>Target typing is where you do not have to provide a type to the parameters of a lambda function.<br/>It is automatically infered from the scala compiler. </p>
<pre class="prettyprint"><code class="language-Scala">// here the x is automatically infered to be an Int from the the array
Array(1, 2, 3, 4).map(x =&gt; x + 1)

// here the s is automatically infered to be a String from the the List
List(&quot;df&quot;, &quot;ab&quot;, &quot;b&quot;, &quot;a&quot;).filter(s =&gt; s.length &gt; 1)
</code></pre>
<h3><a href="#type-erasure" name="type-erasure" class="anchor"><span class="anchor-link"></span></a>Type Erasure</h3>
<p>Type erasure is a procedure performed by Java and Scala compilers which removes all generic type information after compilation.<br/>This means that we are not able to differetiate between, say, <code>List[Int]</code> and <code>List[String]</code> at runtime. Why does the compiler do this? Well, because Java Virtual Machine doesn&rsquo;t know anything about generics. </p>
<pre class="prettyprint"><code class="language-Scala">object Extractor {
  def extract[T](list: List[Any]) = list.flatMap {
    case element: T =&gt; Some(element)
    case _ =&gt; None
  }
}

val list = List(1, &quot;string&quot;, List(), &quot;string2&quot;)
val result = Extractor.extract[String](list)
println(result) // List(1, string1, List(), string2)

//warning: abstract type pattern T is unchecked since it is eliminated by erasure
//    case element: T =&gt; Some(element)
</code></pre>
<h3><a href="#sub-type" name="sub-type" class="anchor"><span class="anchor-link"></span></a>Sub Type</h3>
<p>A sub type can be formed through a form of polyporphyism know as inheritence. A type can be declared which inherits from another type. </p>
<pre class="prettyprint"><code class="language-Scala">class Animal(val age: Int, val name: String)

// Dog is a subtype
class Dog(val legs: Int, age: Int, name: String) extends Animal(age, name)
</code></pre>
<h3><a href="#super-type" name="super-type" class="anchor"><span class="anchor-link"></span></a>Super Type</h3>
<p>A super type is a term give to a type when a related type can use its function members and its variable members.</p>
<pre class="prettyprint"><code class="language-Scala">// Animal is a super type
class Animal(val age: Int, val name: String)

class Dog(val legs: Int, age: Int, name: String) extends Animal(age, name)
</code></pre>
<h3><a href="#type-tag" name="type-tag" class="anchor"><span class="anchor-link"></span></a>Type Tag</h3>
<p>A TypeTag[T] encapsulates the runtime type representation of some type T. Like scala.reflect.Manifest, the prime use case of TypeTags is to give access to erased types. However, TypeTags should be considered to be a richer replacement of the pre-2.10 notion of a Manifest, that are, in addition, fully integrated with Scala reflection.</p>
<p>TypeTags are generated by the compiler. </p>
<p>There exist three different types of TypeTags:</p>
<ul>
  <li>
  <p>scala.reflect.api.TypeTags#TypeTag<br/>A full type descriptor of a Scala type. For example, a TypeTag[List[String]] contains all type information, in this case, of type scala.List[String].</p></li>
  <li>
  <p>scala.reflect.ClassTag<br/>A partial type descriptor of a Scala type. For example, a ClassTag[List[String]] contains only the erased class type information, in this case, of type scala.collection.immutable.List. ClassTags provide access only to the runtime class of a type. Analogous to scala.reflect.ClassManifest </p></li>
  <li>scala.reflect.api.TypeTags#WeakTypeTag<br/>A type descriptor for abstract types.</li>
</ul>
<pre class="prettyprint"><code class="language-Scala">import scala.reflect.runtime.universe._

class Foo
class Bar extends Foo

def meth[A : TypeTag](xs: List[A]) = typeOf[A] match {
  case t if t =:= typeOf[String] =&gt; &quot;list of strings&quot;
  case t if t &lt;:&lt; typeOf[Foo] =&gt; &quot;list of foos&quot;
}
</code></pre>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../articles/type-jargon.html#type" class="header">Type</a>
  <ul>
    <li><a href="../articles/type-jargon.html#invariance-nonvariant" class="header">Invariance - nonvariant</a></li>
    <li><a href="../articles/type-jargon.html#covariance" class="header">Covariance</a></li>
    <li><a href="../articles/type-jargon.html#contravariance" class="header">Contravariance</a></li>
    <li><a href="../articles/type-jargon.html#value-type" class="header">Value Type</a></li>
    <li><a href="../articles/type-jargon.html#type-parameter" class="header">Type Parameter</a></li>
    <li><a href="../articles/type-jargon.html#type-signatures" class="header">Type Signatures</a></li>
    <li><a href="../articles/type-jargon.html#self-type" class="header">Self Type</a></li>
    <li><a href="../articles/type-jargon.html#target-typing" class="header">Target Typing</a></li>
    <li><a href="../articles/type-jargon.html#type-erasure" class="header">Type Erasure</a></li>
    <li><a href="../articles/type-jargon.html#sub-type" class="header">Sub Type</a></li>
    <li><a href="../articles/type-jargon.html#super-type" class="header">Super Type</a></li>
    <li><a href="../articles/type-jargon.html#type-tag" class="header">Type Tag</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2018</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
